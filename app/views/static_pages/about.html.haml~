#content
  %h1 รายละเอียดโครงงาน
  %pre
    %p ชื่อโครงงาน: ระบบจัดการห้องเรียนออนไลน์
    =link_to 'เข้าสู่เว็บไซต์โปรเจค pivotaltracker', 'https://www.pivotaltracker.com/projects/731951'

    =link_to 'Github Repo URL', 'https://github.com/libertyzero/project_sw.git'
    /\
    
    รายละเอียดโครงงาน
    กลุ่มของเราได้ทำเรื่องเกี่ยวกับการจองห้องออนไลน์ของตึกคณะวิศวกรรมศาสตร์ มหาวิทยาลัยธรรมศาสตร์ เพื่อแก้ปัญหาการจองห้องแบบเดิมที่ผู้ที่ต้องการ
    จะจองห้องจำเป็นต้องติดต่อกับทางเจ้าหน้าที่โดยตรง ทางกลุ่มเราได้คิดว่าจะแก้ปัญหาโดยการ สร้างระบบการจองห้องออนไลน์ขึ้นมา
    ผู้ที่มีความประสงค์จะจองห้องสามารถจองห้องผ่าน internetได้โดยตรง เพื่อเป็นการลดภาระของผู้ที่จองห้องจะได้ไม่ต้องเดินทางมาติดต่อกับเจ้าหน้าที่โดยตรง
    สามารถจองออนไลน์ได้เลยและช่วยลดภาระงานของเจ้าหน้าที่
  %h1 รายชื่อสมาชิกกลุ่ม
  %pre
    1)นาย อดิเรก มุลทุลี 5310450027
    2)นาย กิจติพงษ์ อุตสาหะ 5310610729
    3)นส.จิณห์วรา มุลตองคะ  5310610968
    4)นส.ณัฏฐ์ชรินทร์  ศิลาพุ่ง 5310612378
    5)นส.พลอยไพลิน  ศิริมุจลินท์  5310612394
      
  %h1 สรุปความต้องการของลูกค้า
  %pre
    .grouptext สรุปผลความต้องการของลูกค้า (Summary The Customer Need)
    หัวข้อที่ทางคณะผู้จัดทำโครงงานเลือกคือ ระบบการจัดการห้องเรียน ( Classroom management )
    ผู้มีส่วนได้ส่วนเสีย ( Stakeholders ) งานโสตทัศนศึกษา คณะวิศวกรรมศาสตร์ มหาวิยาลัยธรรมศาสตร์และ ผู้มีความประสงค์จะขอใช้บริการการจองห้องเรียน
    .grouptext ความต้องการของลูกค้า
    1)งานโสตทัศนศึกษา คณะวิศวกรรมศาสตร์ มหาวิทยาลัยธรรมศาสตร์ ( ผู้ดูแลในส่วนระบบการจองเพื่อขอใช้ห้องเรียน )
    2)งานโสตฯ ต้องการให้มีระบบการจองห้องเรียนล่วงหน้าผ่านระบบออนไลน์ ซึ่งมีข้อแม้ว่าต้องจองล่วงหน้าตั้งแต่ 2 วันขึ้นไปเท่านั้น เพราะทางเจ้าหน้าที่
    ไม่สามารถอยู่เพื่อตรวจสอบข้อมูลจากผู้ใช้บริการได้ตลอดเวลา (หากต้องการจองวันต่อวัน ให้มาติดต่อที่งานโสตฯ โดยตรง)
    3)งานโสตฯ ต้องการให้ระบบสามารถลดหย่อนปัญหาเฉพาะหน้าได้ในกรณีที่มีการจองห้องแล้วไม่ได้ใช้ห้อง หรือทำการย้ายห้องกะทันหัน
    4)งานโสตฯ ต้องการระบบสำหรับจัดเก็บตารางเรียนในแต่ละเทอม
    5)ผู้มีความประสงค์จะใช้บริการการจองห้องเรียน ( ผู้ใช้ในส่วนการสืบค้นข้อมูล เวลา ห้องเรียน ฯลฯ ) สามารถตรวจสอบได้ว่า
    มีห้องเรียนใดบ้างที่ว่างในช่วงวันและเวลาที่ต้องการจอง สามารถจองห้องเรียนล่วงหน้าได้ ในวันและเวลาที่ต้องการ ผ่านระบบออนไลน์
  %h1 User Stories
  %pre


    .grouptext User stories 1:

    .titletext Feature: User and staff can see about page 
    As an User's and staff
    So that I can see about page 
    I want to go to about page

    .titletext Scenario: can see about page 
    Given I am on the home page
    Then I should see "เกี่ยวกับเรา"
    When I follow "เกี่ยวกับเรา"
    Then I should be on the about page



    .grouptext User stories 2:

    .titletext Feature: Searching for room status and free time in search-box
    As a Users And Staff
    So that I can see every room status
    I want to see room details and free time from database

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |
    | ENGR305      | 30        | classroom |
    | ENGR306      | 50        | classroom |
    | ENGR307      | 30        | classroom |
  
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR304      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR304      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR305      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR305      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR306      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR306      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR307      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR307      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
  
    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email       | status        |
    | ENGR303  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | confirm       |
    | ENGR303  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | confirm       |
    | ENGR305  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR306  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | confirm       |

    Given the following forms exist:
    | position | name | surname | institution | tel | email | roomtype | roomname | date_to_reserve | start_time | finish_time |   because | subject| amount_of_people | require_tool |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR305 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR306 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |


    .titletext Scenario: As users
    Given I am on the home page
    When I search in box with type:"classroom" , amount:"20" , y-m-d:"2015-March-13" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see all of word '"ENGR305" "ENGR307" "2015-03-13" "18.00-21.00"'
    And I should notsee all of word '"ENGR303" "ENGR304" "ENGR306"' 

    .titletext Scenario: As Staff
    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I search in box with type:"classroom" , amount:"20" , date:"today" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see all of word '"ENGR" "18.00-21.00"'

 
    .grouptext User stories 3:

    .titletext Feature: Searching for room status and free time
    As a staff
    So that I can see every room status
    I want to see room details and free time from database

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |
    | ENGR305      | 30        | classroom |
    | ENGR306      | 50        | classroom |
    | ENGR307      | 30        | classroom |
  
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR304      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR304      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR305      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR305      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR306      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR306      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR307      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR307      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
  
    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email       | status        |
    | ENGR303  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | confirm       |
    | ENGR303  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | confirm       |
    | ENGR305  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR306  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | confirm       |

    Given the following forms exist:
    | position | name | surname | institution | tel | email | roomtype | roomname | date_to_reserve | start_time | finish_time |   because | subject| amount_of_people | require_tool |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR305 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR306 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page

    Given I am on the home page
    And I should see "ค้นหาห้องว่าง"
    When I follow "ค้นหาห้องว่าง"
    Then I should be on the search page

    .titletext Scenario: Search date today 
    When I search with type:"classroom" , amount:"20" , date:"today" , time:"8.00-9.30"
    Then I should be on the search_result page
    And I should see all of word '"ENGR" "18.00-21.00"'

    .titletext Scenario: Search date yesterday
    When I search with type:"classroom" , amount:"20" , date:"yesterday" , time:"8.00-9.30"
    Then I should be on the search page
    And I should see "Can not reserve room with date past"

    .titletext Scenario: Search not found
    When I search with type:"classroom" , amount:"" , y-m-d:"2015-March-13" , time:"11.00-12.30"
    Then I should be on the search page
    And I should see "Can not found available room"
  

    .titletext Scenario: Search found with out amount
    When I search with type:"classroom" , amount:"" , y-m-d:"2015-March-13" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see all of word '"ENGR305" "ENGR306" "ENGR307" "2015-03-13" "18.00-21.00"'
    And I should notsee all of word '"ENGR303" "ENGR304"' 

    .titletext Scenario: Search found with amount
    When I search with type:"classroom" , amount:"20" , y-m-d:"2015-March-13" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see all of word '"ENGR305" "ENGR307" "2015-03-13" "18.00-21.00"'
    And I should notsee all of word '"ENGR303" "ENGR304" "ENGR306"' 

    .grouptext User stories 4:

    .titletext Feature: Log In to the staff page
    As an audiovisual education, faculty of Engineering, Thammasat university
    So that I can log in to the staff page
    I want to log in to the staff page with username and password

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |
    And I am on the home page
    Then I should see "สำหรับเจ้าหน้าที่"
    When I follow "สำหรับเจ้าหน้าที่"
    Then I should be on the log in page
    And I should see "กรุณากรอก username และ password สำหรับผู้ดูแลระบบ"

    .titletext Scenario: Can Log In to the staff page (Happy Path)

    When I fill in "Username" with "naidkub"
    And I fill in "Password" with "honhon"
    And I press "Log In"
    Then I should be on the staff page
    And I should see "login successfully"
    Given I am on the home page
    And I follow "สำหรับเจ้าหน้าที่"
    Then I should be on the staff page

    .titletext Scenario: Can not Log In to the staff page (Sad Path)

    When I fill in "Username" with "username"
    And I fill in "Password" with "password"
    And I press "Log In"
    Then I should be on the log in page
    And I should see "can not login"


    .grouptext User stories 5:

    .titletext Feature: Adding new room

    As an audiovisual education, faculty of Engineering, Thammasat university
    So that I can add new room
    I want to add new room in my database

    .titletext Background: Startup with Staffpage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type  |
    | ENGR303      | 100       | classroom  | 

    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
  

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "เพิ่มห้องใหม่"
    Then I should be on the new room page

    .titletext Scenario: Add new room data that doesn’t exists in database to database
    When I fill in "droom[roomname]" with "ENGR301"
    And I fill in "droom[amount]" with "100"
    And I select "ห้องเรียน" from "droom[room_type]"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "monday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00,  18.00-21.00" in "tuesday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "wednesday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "thursday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "friday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "saturday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "sunday"
    And I fill "1" in all of tools
    And I press "เพิ่มห้องใหม่"
    Then I should be on the staff page
    And I should see "add new room successess"
 
    .titletext Scenario: Add room data that exists in database to database
    When I fill in "droom[roomname]" with "ENGR303"
    And I fill in "droom[amount]" with "100"
    And I select "ห้องเรียน" from "droom[room_type]"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "monday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "tuesday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "wednesday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "thursday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "friday"
    And I uncheck "thursday[11.00-12.30]"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "saturday"
    And I check the following section: "8.00-9.30, 9.30-11.00, 11.00-12.30, 12.30-13.00, 13.30-15.00, 15.00-16.30, 16.30-18.00, 18.00-21.00" in "sunday"
    And I fill "1" in all of tools
    And I press "เพิ่มห้องใหม่"
    Then I should be on the staff page
    And I should see "can not add new droom"

    .grouptext User stories 6:

    .titletext Feature: Staff can reserve available room
    As a staffs’s
    So that I can making an online reservation
    I want to filling reservation data and sending requests

    .titletext Background: Startup with Homepage
    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
 
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    Given I am on the search page

    .titletext Scenario: reserve the engr303 with day is not today
    When I search with type:"classroom" , amount:"25" , y-m-d:"2015-March-13" , time:"8.00-9.30"
    Then I should be on the search_result page
    And I should see "ENGR303"
    When I follow "จองห้อง"
    Then I should be on the room id "5" status page
    And I should see all of word '"ENGR303" "8.00-9.30"'
    When I follow "ทำรายการจองห้อง ENGR303"
    Then I should be on the form page
    When I fill in "form[name]" with "Ploypailin"
    And I fill in "form[surname]" with "Sirimujalin"
    And I fill in "form[institution]" with "Student TU"
    And I fill in "form[tel]" with "0878168055"
    And I fill in "form[email]" with "liberty_zero@hotmail.com"
    And I fill in "form[date_to_reserve]" with "2015-03-13"
    And I fill in "form[because]" with "Study"
    And I fill in "form[subject]" with "CN200"
    And I fill in "form[amount_of_people]" with "20"
    And I fill in "form[roomtype]" with "classroom"
    And I fill in "form[roomname]" with "ENGR303"
    And I fill in "form[start_time]" with "8.00"
    And I fill in "form[finish_time]" with "9.30"
    And I check "form[position][teacher]"
    And I check "form[require_tool][microphone]"
    And I check "form[require_tool][visualizer]"
    And I press "submit"
    Then I should be on the print page
    And I should see "Create form and reserve success"
    And I should see all of word '"ENGR303" "teacher" "2015-03-13" "8.00" "9.30" "microphone" "visualizer"'
  
  
    .titletext Scenario: reserve the engr303 with date is today
    When I search with type:"classroom" , amount:"25" , date:"today" , time:"8.00-9.30"
    Then I should be on the search_result page
    And I should see "ENGR303"
    When I follow "จองห้อง"
    Then I should be on the room id of date:"today" status page
    And I should see all of word '"ENGR303" "8.00-9.30"'
    When I follow "ทำรายการจองห้อง ENGR303"
    Then I should be on the form page
    When I fill in "form[name]" with "Ploypailin"
    And I fill in "form[surname]" with "Sirimujalin"
    And I fill in "form[institution]" with "Student TU"
    And I fill in "form[tel]" with "0878168055"
    And I fill in "form[email]" with "liberty_zero@hotmail.com"
    And I fill in "form[date_to_reserve]" with today
    And I fill in "form[because]" with "Study"
    And I fill in "form[subject]" with "CN200"
    And I fill in "form[amount_of_people]" with "20"
    And I fill in "form[roomtype]" with "classroom"
    And I fill in "form[roomname]" with "ENGR303"
    And I fill in "form[start_time]" with "8.00"
    And I fill in "form[finish_time]" with "9.30"
    And I check "form[position][teacher]"
    And I check "form[require_tool][microphone]"
    And I press "submit"
    Then I should be on the print page
    And I should see "Create form and reserve success"
    And I should see all of word '"ENGR303" "teacher" "8.00" "9.30" "microphone"'


    .grouptext User stories 7:

    .titletext Feature: Modify room data

    As an audiovisual education, faculty of Engineering, Thammasat university
    So that I can modify room data
    I want to modify room data in database

    .titletext Background: Startup with Staffpage

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "รายชื่อห้องที่มีทั้งหมดในระบบ"
    Then I should be on the room list page

    .titletext Scenario: Modify room data that not the same name exist in database 
    When I follow "ดูข้อมูลห้อง ENGR303"
    Then I should be on the "ENGR303" room detail page
    When I follow "แก้ไขข้อมูลห้อง ENGR303"
    Then I should be on the edit room "ENGR303" page
    And I should see "ENGR303"
    When I fill in "droom[roomname]" with "ENGR305"
    And I fill in "droom[amount]" with "100"
    And I fill "2" in all of tools
    And I press "ยืนยันการแก้ไขข้อมูลห้อง"
    Then I should be on the "ENGR305" room detail page
    And I should not see "ENGR303"
    And I should see "2"

    .titletext Scenario: Modify room data that have the same name exist in database 
    When I follow "ดูข้อมูลห้อง ENGR303"
    Then I should be on the "ENGR303" room detail page
    When I follow "แก้ไขข้อมูลห้อง ENGR303"
    Then I should be on the edit room "ENGR303" page
    And I should see "ENGR303"
    When I fill in "droom[roomname]" with "ENGR304"
    And I fill in "droom[amount]" with "100"
    And I fill "2" in all of tools
    And I press "ยืนยันการแก้ไขข้อมูลห้อง"
    Then I should be on the room list page
    And I should see "ENGR303"
    And I should see "ENGR304"
    And I should see "Can not modify roomname,Already roomname in database"
  

    .grouptext User stories 8:

    .titletext Feature: See status of available room that 
    As a Staff’s
    So that I can making an online reservation
    I want to filling reservation data and sending requests

    .titletext Background: Startup with Homepage
    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 100       | classroom |
 
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |
  
    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page

    .titletext Scenario: See the engr303 status
    Given I am on the room id "1" status page
    Then I should see all of word '"ENGR303" "amplifier"'
  
    .grouptext User stories 9:

    .titletext Feature: delete room data

    As an audiovisual education, faculty of Engineering, Thammasat university
    So that I can delete room data
    I want to delete room data

    .titletext Background: Startup with Homepage
  
    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |

    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  | 
 
    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |


    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |
    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "รายชื่อห้องที่มีทั้งหมดในระบบ"
    Then I should be on the room list page
    And I should see "ดูข้อมูลห้อง ENGR303"
    When I follow "ดูข้อมูลห้อง ENGR303"
    Then I should be on the "ENGR303" room detail page

    .titletext Scenario: can delete room data that want to delete
    When I am on the "ENGR303" room detail page
    Then I should see "ลบข้อมูลห้อง ENGR303"
    When I follow "ลบข้อมูลห้อง ENGR303"
    Then I should be on the room list page
    And I should see "Delete success"
    And I should not see "ENGR303"
  

    .grouptext User stories 10:

    .titletext Feature: see all detail of user who reserve room

    As an audiovisual education, faculty of Engineering, Thammasat university
    So that I see all detail of user who reserve room
    I want to see all detail of user who reserve room in database

    .titletext Background: Startup with Homepage
    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email                    | status        |
    | ENGR303  | 2013-03-13      | 16.30      | 18.00       | 0878168055 | liberty_zero@hotmail.com | nonconsidered |
    | ENGR303  | 2013-03-14      | 9.30       | 11.00       | 0878168033 | digimon@hotmail.com      | confirm       |
    | ENGR303  | 2013-03-13      | 8.00       | 9.30        | 0878168044 | test@hotmail.com         | confirm       |
    | ENGR305  | 2013-03-15      | 8.00       | 9.30        | 0878168011 | self@hotmail.com         | confirm       |
    | ENGR306  | 2013-03-10      | 8.00       | 9.30        | 0878168034 | pokemon@hotmail.com      | nonconsidered |
  

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page

    .titletext Scenario: can see all detail of user who reserve room
  
    When I follow "ข้อมูลการจองที่มีทั้งหมดในระบบ"
    Then I should be on the reserve detail page
    And I should see "ENGR306" before "ENGR303" 
    And I should see "8.00" before "16.30"
    And I should see "พิจารณาการจองห้อง ENGR303"
    And I should see "พิจารณาการจองห้อง ENGR306"
    And I should see "ดูข้อมูลการจองห้อง ENGR303"
    And I should see "ดูข้อมูลการจองห้อง ENGR305"
  

    .grouptext User stories 11:
    .titletext Feature: see detail of each user who reserve room 

    As an audiovisual education, faculty of Engineering, Thammasat university
    So that I see detail of each user who reserve room
    I want to see detail of each user who reserve room in database

    .titletext Background: Startup with Homepage
    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email       | status        |
    | ENGR303  | 2013-03-13      | 16.30      | 18.00       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2013-03-13      | 16.30      | 18.00       | 0878908766 | hon@hon.com | confirm       |

    Given the following forms exist:
    | position | name | surname | institution | tel | email | roomtype | roomname | date_to_reserve | start_time | finish_time | because | subject| amount_of_people | require_tool |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2013-03-13 | 16.30 | 18.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2013-03-13 | 16.30 | 18.00 | play game | hon | 20 | microphone,television |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "ข้อมูลการจองที่มีทั้งหมดในระบบ"
    Then I should be on the reserve detail page
    And I should see "พิจารณาการจองห้อง ENGR303"
    And I should see "ดูข้อมูลการจองห้อง ENGR304"

    .titletext Scenario: can see all detail of user who reserve room that nonconsidered
    When I follow "พิจารณาการจองห้อง ENGR303"
    Then I should be on the reserve detail id:"1" page
    And I should see all of word '"ENGR303" "2013-03-13" "hon@hon.com" "classroom" "naidkub" "honhon" "รอการยืนยันจากเจ้าหน้าที่" "ยืนยันคำร้องขอการจองห้อง" "ปฏิเสธคำร้องขอการจองห้อง"'
 
    .titletext Scenario: can see all detail of user who reserve room that confirm
    When I follow "ดูข้อมูลการจองห้อง ENGR304"
    Then I should be on the reserve detail id:"2" page
    And I should see all of word '"ENGR304" "2013-03-13" "hon@hon.com" "classroom" "naidkub" "honhon" "ได้รับการยืนยันแล้ว"'
    And I should not see "ยืนยันคำร้องขอการจองห้อง"
    And I should not see "ปฏิเสธคำร้องขอการจองห้อง"
 
    .grouptext User stories 12:

    .titletext Feature: See all room list
    As a Staff’s
    So that I can making an online reservation
    I want to filling reservation data and sending requests

    .titletext Background: Startup with Homepage

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page

    .titletext Scenario: See list of all room
    When I follow "รายชื่อห้องที่มีทั้งหมดในระบบ"
    Then I should be on the room list page
    And I should see "ENGR303"
    And I should see "ENGR304"
 

    .grouptext User stories 13:
    .titletext Feature: See room detail
    As a Staff’s
    So that I can making an online reservation
    I want to filling reservation data and sending requests

    .titletext Background: Startup with Homepage

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |
  
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "รายชื่อห้องที่มีทั้งหมดในระบบ"
    Then I should be on the room list page
    When I follow "ดูข้อมูลห้อง ENGR303"
    Then I should be on the "ENGR303" room detail page

    .titletext Scenario: See room detail
    When I am on the "ENGR303" room detail page
    Then I should see "ENGR303"
    And I should see "วันจันทร์"
    And I should see "วันอังคาร"
    And I should see "วันพุธ"
    And I should see "วันพฤหัสบดี"
    And I should see "วันศุกร์"
    And I should see "วันเสาร์"
    And I should see "วันอาทิตย์"
 

    .grouptext User stories 14:
    .titletext Feature: Delete Reserve
    As a staff
    So that I can delete reserve
    I want to delete reserve

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email       | status        |
    | ENGR303  | 2013-03-13      | 16.30      | 18.00       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2013-03-13      | 16.30      | 18.00       | 0878908766 | hon@hon.com | confirm       |

    Given the following forms exist:
    | position | name | surname | institution | tel | email | roomtype | roomname | date_to_reserve | start_time | finish_time | because | subject| amount_of_people | require_tool |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2013-03-13 | 16.30 | 18.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2013-03-13 | 16.30 | 18.00 | play game | hon | 20 | microphone,television |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "ข้อมูลการจองที่มีทั้งหมดในระบบ"
    Then I should be on the reserve detail page
    And I should see "ENGR303"
    And I should see "ดูข้อมูลการจองห้อง ENGR304"
    When I follow "ดูข้อมูลการจองห้อง ENGR304"
    Then I should be on the reserve detail id:"2" page
    And I should see "ลบคำร้องขอการจองห้อง"

    .titletext Scenario: delete reserve
    When I follow "ลบคำร้องขอการจองห้อง"
    Then I should be on the reserve detail page
    And I should see "ENGR303"
    And I should not see "ENGR304"

    .grouptext User stories 15:

    .titletext Feature: Clear All room data
    As a staff
    So that I can clear all room data
    I want to clear all room data

    .titletext Background: Startup with Homepage

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type  |
    | ENGR303      | 100       | classroom  | 

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
  

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "กำหนดข้อมูลห้องสำหรับเทอมใหม่"
    Then I should be on the staff page

    .titletext Scenario: check all scheduler is free

    When I follow "รายชื่อห้องที่มีทั้งหมดในระบบ"
    And I should see "ดูข้อมูลห้อง ENGR303"
    When I follow "ดูข้อมูลห้อง ENGR303"
    Then I should see "ว่าง" 
    And I should see "ไม่ว่าง" equal to "1"
  
    .grouptext User stories 16:

    .titletext Feature: Logout
    As a staff
    So that I can logout
    I want to logout

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | monday    | free  |  free  | busy  | busy   | free  | busy  | free    |  free  |
    | ENGR304      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | wednesday | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | friday    | busy  |  free  | busy  | busy   | free  | busy  | free    |  busy  |
    | ENGR304      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | monday    | free  |  free  | busy  | busy   | free  | busy  | free    |  free  |
    | ENGR305      | tuesday   | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR305      | wednesday | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | thursday  | free  |  busy  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | friday    | busy  |  free  | busy  | busy   | free  | busy  | free    |  busy  |
    | ENGR305      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR305      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    And I should see "Log out"

    .titletext Scenario: clear all room data
  
    When I follow "Log out"
    Then I should be on the home page
    And I should not see "สวัสดี คุณ"


    .grouptext User stories 17:

    .titletext Feature: Add picture to list of picture
    As a staff
    So that I can add picture to list of picture
    I want to add picture to list of picture 

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page

    .titletext Scenario: Add picture to list if pic
    When I follow "เปลี่ยนแปลงข่าวสาร"
    Then I should be on the pic list page
    When I follow "เพิ่มรูปข่าวสาร"
    Then I should be on the add new pic page
    When I attach the file "public/images/engr-slide-header-01.jpg" to "welcome[img]"
    And I press "เพิ่มรูป"
    Then I should be on the pic list page
    And I should see "engr-slide-header-01.jpg"
    And I should see "ไม่แสดงผล"
 

    .grouptext User stories 18:

    .titletext Feature: Edit welcome picture
    As a staff
    So that I can edit welcome pic
    I want to select picture that I want to show 

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "เปลี่ยนแปลงข่าวสาร"
    Then I should be on the pic list page
    When I follow "เพิ่มรูปข่าวสาร"
    Then I should be on the add new pic page
    When I attach the file "public/images/engr-slide-header-01.jpg" to "welcome[img]"
    And I press "เพิ่มรูป"
    Then I should be on the pic list page
    And I should see "engr-slide-header-01.jpg"
    And I should see "ไม่แสดงผล"

    .titletext Scenario: Select picture
  
    When I follow "เปลี่ยนสถานะ"
    Then I should be on the pic id "1" change state page
    And I should see "engr-slide-header-01.jpg"
    And I should see "คุณต้องการแสดงผลรูปนี้"
    When I check "welcome[choose]"
    And I press "ยืนยัน"
    Then I should be on the pic list page
    And I should see "แสดงผล"
 
    .grouptext User stories 19:

    .titletext Feature: Delete picture
    As a staff
    So that I can delete don't use picture
    I want to select picture to delete don't use picture

    .titletext Background: Startup with Homepage

    Given the following staff exist:
    | username     | password                           |
    | naidkub      | a128290498a21ed6a3fc8a2e4c011ebc   |

    And I am on the log in page
    When I login with "naidkub" and "honhon"
    Then I should be on the staff page
    When I follow "เปลี่ยนแปลงข่าวสาร"
    Then I should be on the pic list page
    When I follow "เพิ่มรูปข่าวสาร"
    Then I should be on the add new pic page
    When I attach the file "public/images/engr-slide-header-01.jpg" to "welcome[img]"
    And I press "เพิ่มรูป"
    Then I should be on the pic list page
    And I should see "engr-slide-header-01.jpg"
    And I should see "ไม่แสดงผล"

    .titletext Scenario: Select picture to delete
  
    When I follow "ลบรูปภาพ"
    Then I should be on the pic list page
    And I should not see "engr-slide-header-01.jpg"

 
    .grouptext User stories 20:

    .titletext Feature: Searching for room status and free time
    As a users
    So that I can see every room status
    I want to see room details and free time from database

    .titletext Background: Startup with Homepage

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |
    | ENGR305      | 30        | classroom |
    | ENGR306      | 50        | classroom |
    | ENGR307      | 30        | classroom |
  
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR304      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR304      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR304      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR305      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR305      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR305      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR306      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR306      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR306      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | wednesday | free  |  free  | busy  | free   | busy  | busy  | free    |  free  |
    | ENGR307      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | friday    | busy  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR307      | saturday  | free  |  free  | busy  | free   | free  | busy  | busy    |  free  |
    | ENGR307      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
  
    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email       | status        |
    | ENGR303  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | confirm       |
    | ENGR303  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR304  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | confirm       |
    | ENGR305  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | nonconsidered |
    | ENGR306  | 2015-03-13      | 11.00      | 12.30       | 0878908766 | hon@hon.com | confirm       |

    Given the following forms exist:
    | position | name | surname | institution | tel | email | roomtype | roomname | date_to_reserve | start_time | finish_time | because | subject| amount_of_people | require_tool |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR304 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR305 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR306 | 2015-03-13 | 11.00 | 12.30 | play game | hon | 20 | microphone,television |


    And I am on the home page
    And I should see "ค้นหาห้องว่าง"
    When I follow "ค้นหาห้องว่าง"
    Then I should be on the search page

    .titletext Scenario: Search date today
  
    When I search with type:"classroom" , amount:"20" , date:"today" , time:"8.00-9.30"
    Then I should be on the search page
    And I should see "Can not reserve room with date today, please contact staff"

    .titletext Scenario: Search date yesterday
    When I search with type:"classroom" , amount:"20" , date:"yesterday" , time:"8.00-9.30"
    Then I should be on the search page
    And I should see "Can not reserve room with date past"

    .titletext Scenario: Search not found
    When I search with type:"classroom" , amount:"20" , y-m-d:"2015-March-13" , time:"11.00-12.30"
    Then I should be on the search page
    And I should see "Can not found available room"
  
    .titletext Scenario: Search found with out amount
    When I search with type:"classroom" , amount:"" , y-m-d:"2015-March-13" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see all of word '"ENGR305" "ENGR306" "ENGR307" "2015-03-13" "18.00-21.00"'
    And I should notsee all of word '"ENGR303" "ENGR304"' 

    .titletext Scenario: Search found with amount
    When I search with type:"classroom" , amount:"20" , y-m-d:"2015-March-13" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see all of word '"ENGR305" "ENGR307" "2015-03-13" "18.00-21.00"'
    And I should notsee all of word '"ENGR303" "ENGR304" "ENGR306"' 
 

    .grouptext User stories 21:

    .titletext Feature: See status of available room that choose from search result
    As a user’s
    So that I can making an online reservation
    I want to filling reservation data and sending requests

    .titletext Background: Startup with Homepage
    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
 
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    And I am on the home page
    And I should see "ค้นหาห้องว่าง"
    When I follow "ค้นหาห้องว่าง"
    Then I should be on the search page
    When I search with type:"classroom" , amount:"" , y-m-d:"2015-March-13" , time:"18.00-21.00"
    Then I should be on the search_result page
    And I should see "ENGR303"

    .titletext Scenario: See the engr303 status
    When I follow "จองห้อง"
    Then I should be on the room id "5" status page
    And I should see all of word '"ENGR303" "18.00-21.00" "amplifier" "2015-03-13"'
    And I should not see "สวัสดี คุณ"

    .grouptext User stories 22:

    .titletext Feature: User can reserve available room
    As a user’s
    So that I can making an online reservation
    I want to filling reservation data and sending requests

    .titletext Background: Startup with Homepage
    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
 
    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |

    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    And I am on the home page
    And I should see "ค้นหาห้องว่าง"
    When I follow "ค้นหาห้องว่าง"
    Then I should be on the search page


    .titletext Scenario: reserve the engr303 with day is not today
    When I search with type:"classroom" , amount:"25" , y-m-d:"2015-March-13" , time:"8.00-9.30"
    Then I should be on the search_result page
    And I should see "ENGR303"
    When I follow "จองห้อง"
    Then I should be on the room id "5" status page
    And I should see all of word '"ENGR303" "8.00-9.30"'
    When I follow "ทำรายการจองห้อง ENGR303"
    Then I should be on the form page
    When I fill in "form[name]" with "Ploypailin"
    And I fill in "form[surname]" with "Sirimujalin"
    And I fill in "form[institution]" with "Student TU"
    And I fill in "form[tel]" with "0878168055"
    And I fill in "form[email]" with "liberty_zero@hotmail.com"
    And I fill in "form[date_to_reserve]" with "2015-03-13"
    And I fill in "form[because]" with "Study"
    And I fill in "form[subject]" with "CN200"
    And I fill in "form[amount_of_people]" with "20"
    And I fill in "form[roomtype]" with "classroom"
    And I fill in "form[roomname]" with "ENGR303"
    And I fill in "form[start_time]" with "8.00"
    And I fill in "form[finish_time]" with "9.30"
    And I check "form[position][teacher]"
    And I check "form[require_tool][microphone]"
    And I check "form[require_tool][notebook]"
    And I press "submit"
    Then I should be on the print page
    And I should see "Create form and reserve success"
    And I should see all of word '"ENGR303" "8.00" "9.30" "notebook"'
  
  
    .titletext Scenario: reserve the engr303 with date is today
    When I search with type:"classroom" , amount:"25" , date:"today" , time:"8.00-9.30"
    Then I should be on the search page
    And I should see "Can not reserve room with date today, please contact staff"


  
    .grouptext User stories 23:
    .titletext Feature: User can not go to staff zone by key url
    As an User's
    So that I can not go to staff zone by key url
    I want to redirect to index

    .titletext Background: Startup with Homepage

    Given the following detail_rooms exist:
    | roomname     | amount    | room_type |
    | ENGR303      | 30        | classroom |
    | ENGR304      | 30        | classroom |

    Given the following rooms exist:
    | roomname     | day       | first | second | third | fourth | fifth | sixth | seventh | eighth |
    | ENGR303      | monday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | tuesday   | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | wednesday | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | thursday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | friday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | saturday  | free  |  free  | busy  | free   | free  | busy  | free    |  free  |
    | ENGR303      | sunday    | free  |  free  | busy  | free   | free  | busy  | free    |  free  | 
 
    Given the following tools exist:
    | roomname     | amplifier | microphone | computer | overhead_projector | lcd_projector | television | voice_recorder | video_recorder | visualizer | loudspeaker |
    | ENGR303      | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 |

    Given the following reserves exist:
    | roomname | date_to_reserve | start_time | finish_time | tel        | email       | status        |
    | ENGR303  | 2015-03-13      | 18.00      | 21.00       | 0878908766 | hon@hon.com | nonconsidered |

    Given the following forms exist:
    | position | name | surname | institution | tel | email | roomtype | roomname | date_to_reserve | start_time | finish_time | because | subject| amount_of_people | require_tool |
    | teacher | naidkub | honhon | superhon | 0878908766 | hon@hon.com | classroom | ENGR303 | 2015-03-13 | 18.00 | 21.00 | play game | hon | 20 | microphone,television |

    Given the following welcomes exist:
    | choose  | 
    | false   | 
    .titletext Scenario: user can not go to staff zone page
    Given I am on the staff page
    Then I should be on the home page
    Given I am on the room list page
    Then I should be on the home page
    Given I am on the "ENGR303" room detail page
    Then I should be on the home page
    Given I am on the edit room "ENGR303" page
    Then I should be on the home page
    Given I am on the reserve detail page
    Then I should be on the home page
    Given I am on the reserve detail id:"1" page
    Then I should be on the home page
    Given I am on the pic list page
    Then I should be on the home page
    Given I am on the add new pic page
    Then I should be on the home page
    Given I am on the new room page
    Then I should be on the home page
    Given I am on the pic id "1" change state page
    Then I should be on the home page



  %h1 Lo-Fi Mockups
  %pre
    %img{:alt => "lofi2", :src => "/images/lofi2.jpg", :width => "800px;"}/
    %img{:alt => "lofi2", :src => "/images/lofi.jpg", :width => "800px;"}/
  %h1 Storyboards
  %pre
    %img{:alt => "storyboard2", :src => "/images/storyboard2.jpg", :width => "800px;"}/
    %img{:alt => "storyboard", :src => "/images/storyboard1.jpg", :width => "800px;"}/
  %h1 ER-Diagrams
  %pre
    %img{:alt => "er diagram1", :src => "/images/er1.jpg", :width => "880px;"}/



